<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>

    <button>001</button>
    <button>002</button>
    <button>003</button>

    <script>

        var buttons = document.querySelectorAll('button');

//        for (var i=0; i<buttons.length; i++) {
//
//            buttons[i].index = i;
//            buttons[i].onclick = function() {
////                console.log(i);
//                console.log(this.index);
//            }
//
//        }

//        let i=0;
        // 在for循环中使用let申明一个变量，那么这个变量会在每次循环执行的时候，变成for循环的局部变量，注意：在for中使用let，一定要写在for的第一个语句上
//        for (let i=0; i<buttons.length; i++) {
//
//            buttons[i].onclick = function() {
//                console.log(i);
//            }
//
//        }

        for (var i=0; i<buttons.length; i++) {

            (function (i) {
                buttons[i].onclick = function() {
                    console.log(i);
                }
            })(i);

        }

        function foreach() {

        }

//        function fn(a) {
//            buttons[a].onclick = function() {
//                console.log(a);
//            }
//        }

        console.log(buttons);

        buttons.forEach(function (button, index) {
//            console.log(button, index);

            button.onclick = function() {
                console.log(index);
            }
        });

    </script>

</body>
</html>